{% extends 'shared/_MainLayout.html' %}
{% load humanize %}
{% load static %}
{% block content %}
    <div class="content-wrapper">


    <div class="row">
            <div class="col-xl-8 mb-30">
                <div class="card card-statistics h-100">
                    <div class="card-body">
                        <h5 class="mb-15 pb-0 border-0 card-title">موجودی کالها  </h5>
                        <!-- action group -->
                        <div class="btn-group info-drop">
                            <button type="button" class="dropdown-toggle-split text-muted" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="ti-more"></i></button>
{#                            <div class="dropdown-menu">#}
{#                                <a class="dropdown-item" href="#"><i class="text-success ti-files"></i> تایید شده</a>#}
{#                                <a class="dropdown-item" href="#"><i class="text-warning ti-pencil-alt"></i> در#}
{#                                    انتظار</a>#}
{#                                <a class="dropdown-item" href="#"><i class="text-danger ti-user"></i> رد شد</a>#}
{#                                <a class="dropdown-item" href="#"><i class="text-secondary ti-reload"></i> تازه کردن</a>#}
{#                            </div>#}
                        </div>
                        <div class="table-responsive">
            <table
                    id="table"
                    class="table-striped"
                    data-toggle="table"
                    data-locale="fa-IR"
                    data-search="true"
                    data-show-columns="true"
                    data-show-export="true"
                    data-show-refresh="true"
                    data-show-columns-toggle-all="true"
                    data-show-pagination-switch="true"
                    data-show-toggle="true"
                    data-show-fullscreen="true"
                    data-buttons="buttons"
                    data-search-align="left"
                    data-buttons-class="primary"
                    data-pagination="true"
                    data-show-columns-search="true"
                    data-show-footer="true"
                    data-page-size="5"
                    data-remember-order="true"
                    data-sortable="true"
                    data-show-search-clear-button="true"
                    data-sort-name="count"
                    data-sort-order="desc"
                    data-filter-control="true"
                    data-show-print="true"
                    data-export-data-type="all"
                    data-export-types=['excel']
            >
                <thead>
                <tr class="tr-class-1">
{#                    <th data-field="name" data-valign="middle" class="card-text text-center"#}
{#                        data-filter-control="input">طرف قرارداد#}
{#                    </th>#}
{#                    #}


{#                    data-filter-control="select"#}

                    <th class="card-text text-center" data-sortable="true" data-sorter="numericOnly"
                         data-field="cde_kala">کد کالا
                    </th>
                    <th class="card-text text-center" data-sortable="true" data-sorter="numericOnly" data-field="name">نام کالا
                    </th>
                    <th class="card-text text-center" data-sortable="true" data-sorter="numericOnly" data-field="warehousecode">شماره انبار
                    </th>
                    <th class="card-text text-center" data-sortable="true" data-sorter="numericOnly" data-field="count">موجودی
                    </th>
{#                    <th class="card-text text-center" data-sortable="true" data-sorter="numericOnly">مانده بدهکار#}
{#                    </th>#}
{#                    <th class="card-text text-center" data-sortable="true" data-sorter="numericOnly"#}
{#                        data-footer-formatter="priceFormatter">در حال ممیزی#}
{#                    </th>#}
{#                    <th class="card-text text-center" data-sortable="true" data-field="kambod" data-sorter="numericOnly"#}
{#                        data-footer-formatter="priceFormatter"#}
{#                    >کمبود اسناد#}
                </tr>
                </thead>
                <tbody>
                {% for kala in mojodi %}
                    <tr>
{#                        <td class="card-title text-center"><a href="/seller/{{ zone.zone_code }}/{{ t.seller_id }} "#}
{#                                                              target="_blank">#}
{#                            {{ t.seller }}</a></td>#}
{#                        #}



                        <td class="card-text text-center"><h6><a href="#"
                                                                 target="_blank">
                            {{ kala.code_kala }}</a></h6></td>

                        <td class="card-text text-center"><h6><a
                                href="#"
                                target="_blank">
                            {{ kala.kala.name }}</a></h6></td>

                        <td class="card-text text-center"><h6><a
                                href="#"
                                target="_blank">
                            {{ kala.warehousecode }}</a></h6></td>

                        <td class="card-text text-center"><h6><a
                                href="#"
                                target="_blank">
                            {{ kala.stock }}</a></h6></td>

{#                        <td class="card-text text-center"><h6>#}
{#                        <a#}
{#                                href="/selpro_detail/{{ zone.zone_code }}/{{ t.selp_id }}"#}
{#                                target="_blank">#}
{#                            {{ t.bedehkar|intcomma:False }}</a>#}
{#                        </h6></td>#}
{#                        <td class="card-text text-center"><h6> {{ t.inmo|intcomma:False }} </h6></td>#}
{#                        <td class="card-text text-center"><h6> {{ t.kambod|intcomma:False }} </h6></td>#}
                    </tr>
                {% endfor %}
                </tbody>
            </table>

                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-4 mb-30">
                <div class="card card-statistics h-100 admin-followers">
                    <div class="card-body">
                        <h5 class="card-title">------ </h5>
                    </div>
                </div>
            </div>
        </div>












    </div>
{% endblock %}
{% block date %}
    <script src="{% static 'js/table1/tableExport.min.js' %}"></script>
    <script src="{% static 'js/table1/bootstrap-table.min.js' %}"></script>
    <script src="{% static 'js/table1/bootstrap-table-locale-all.min.js' %}"></script>
    <script src="{% static 'js/table1/bootstrap-table-export.min.js' %}"></script>
    <script src="{% static 'js/table1/natural-sorting.js' %}"></script>
    <script src="{% static 'js/table1/bootstrap-table-filter-control.min.js' %}"></script>
    <script src="{% static 'js/table1/bootstrap-table-print.min.js' %}"></script>
    <script src="{% static 'js/table1/jspdf.min.js' %}"></script>
    <script src="{% static 'js/table1/jspdf.plugin.autotable.js' %}"></script>
    <script>
        var $table = $('#table')

        $(function () {
            $table.bootstrapTable()
        })

        function idFormatter() {
            return 'Total'
        }

        function nameFormatter(data) {
            return data.length
        }

        function priceFormatter(data) {
            var field = this.field
            return data.map(function (row) {
                return +row[field].substring(0)
            }).reduce(function (sum, i) {
                return sum + i
            }, 0)
        }

        function formatMoney(number) {
            return number.toLocaleString('en-US', {style: 'currency', currency: 'USD'});
        }
    </script>
{% endblock %}