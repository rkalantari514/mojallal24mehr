{% extends 'shared/_MainLayout.html' %}
{% load static %}
{% load humanize %}
{% block content %}
    <div class="content-wrapper">
        <div class="container">
            <h1>{{ myheader }}</h1>
            {% if level == 2 %}
                <a href="/balance-sheet-kol">
                    <h2> معین های کل {{ parent_code }}-{{ parent_name }}</h2>
                </a>
            {% endif %}
            {% if level == 3 %}
                <a href="/balance-sheet-moin/{{ kol_code }}">
                    <h2> تفضیل های های معین {{ moin_code }}-{{ parent_name }}</h2>
                </a>
                <h2> از کد کل {{ kol_code }}</h2>

            {% endif %}
<a href="/balance-sheet-tafsili/{{kol_code  }}/{{ moin_code }}/"><H2>رفتن به تفضیل ها</H2></a>

            <div class="table-responsive">
                <table
                        id="table"
                        class="table-striped"
                        data-toggle="table"
                        data-locale="fa-IR"
                        data-search="true"
                        data-show-columns="true"
                        data-show-export="true"
                        data-show-refresh="true"
                        data-show-columns-toggle-all="true"
                        data-show-pagination-switch="true"
                        data-show-toggle="true"
                        data-show-fullscreen="true"
                        data-buttons="buttons"
                        data-search-align="left"
                        data-buttons-class="primary"
                        data-pagination="true"
                        data-show-columns-search="true"
                        data-show-footer="true"
                        data-page-size="100"
                        data-remember-order="true"
                        data-sortable="true"
                        data-show-search-clear-button="true"
                        data-sort-name="count"
                        data-sort-order="desc"
                        data-filter-control="true"
                        data-show-print="true"
                        data-export-data-type="all"
                        data-export-types=['excel']
                >
                    <thead>
                    <tr>

                        <th data-field="sharh" data-sortable="true">شرح</th>
                        <th data-field="bed_sum" data-sortable="true">بدهکار</th>
                        <th data-field="bes_sum" data-sortable="true">بستانکار</th>
                        <th data-field="curramount_sum" data-sortable="true">مانده</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for item in sanads %}
                        <tr>
                            <td><h4>{{ item.syscomment }}</h4></td>
                            <td><h4>{{ item.bed|floatformat:0|intcomma:False }}</h4></td>
                            <td><h4>{{ item.bes|floatformat:0|intcomma:False }}</h4></td>
                            <td> <h4 style="direction: ltr">{{ item.curramount|floatformat:0|intcomma:False }}</h4></td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>


    </div>
{% endblock %}




{% block date %}
    <script src="{% static 'js/table1/tableExport.min.js' %}"></script>
    <script src="{% static 'js/table1/bootstrap-table.min.js' %}"></script>
    <script src="{% static 'js/table1/bootstrap-table-locale-all.min.js' %}"></script>
    <script src="{% static 'js/table1/bootstrap-table-export.min.js' %}"></script>
    <script src="{% static 'js/table1/natural-sorting.js' %}"></script>
    <script src="{% static 'js/table1/bootstrap-table-filter-control.min.js' %}"></script>
    <script src="{% static 'js/table1/bootstrap-table-print.min.js' %}"></script>
    <script src="{% static 'js/table1/jspdf.min.js' %}"></script>
    <script src="{% static 'js/table1/jspdf.plugin.autotable.js' %}"></script>

    <script>
        var $table = $('#table')

        $(function () {
            $table.bootstrapTable()
        })

        function idFormatter() {
            return 'Total'
        }

        function nameFormatter(data) {
            return data.length
        }

        function priceFormatter(data) {
            var field = this.field
            return data.map(function (row) {
                return +row[field].substring(0)
            }).reduce(function (sum, i) {
                return sum + i
            }, 0)
        }

        function formatMoney(number) {
            return number.toLocaleString('en-US', {style: 'currency', currency: 'USD'});
        }
    </script>
{% endblock %}



